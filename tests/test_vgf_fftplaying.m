

% just fft tests
% ITOGO
% s = 0...N-1 or smth likethat
clear all
N=101; % odd N ONLY!!!
L=2;

h=L/(N-1);
 X=-L/2  +h*(0:N-1)  % BOTH BOUNDARIES SHOULD BE INCLUDED!!
 
%  
% X =
%   Columns 1 through 11
%    -1.0000   -0.9000   -0.8000   -0.7000   -0.6000   -0.5000   -0.4000   -0.3000   -0.2000   -0.1000         0
%   Columns 12 through 21
%     0.1000    0.2000    0.3000    0.4000    0.5000    0.6000    0.7000    0.8000    0.9000    1.0000
%     
     
%X=((0:N-1)/(N)-.5)*L;

% kratnost=2;
% k0=kratnost * 2*pi/L;
% fX=exp(k0*1j*X)

freq=(N)*pi/L/2 
fX_anal=sinc(freq*X)/2;
% fX_anal=1j./(X+1e-10);

%we play with the following: we know the exact formula for a ifft to rectangle (sinx/x). Now we are trying to see how
figure(1)
plot(fX_anal,'-bo')

%%


fftX=fftshift(fft(ifftshift(fX_anal)));
figure(2)
subplot(1,2,1)
plot(X,real(fftX),'-ro')
subplot(1,2,2)
plot(X,imag(fftX),'-ro')

sfftX=fftshift(fftX);
isfftX=ifftshift(fftshift(fftX));
relerr=norm(isfftX-fftX)/norm(fftX)

%%
FF=zeros(size(X));
FF(abs(X)<=1/2)=1;
relerrFF=norm(FF-fftX)/norm(FF)
% FF is in centered coords
%we uncenter it
 figure(3);
 subplot(1,2,1)
 plot(real(fftshift(ifft(ifftshift(FF)))),'-go')
subplot(1,2,2)
 plot(imag(fftshift(ifft(ifftshift(FF)))),'-go')

% ?? ??. ??? ???????. ???? ????? 11, ?? ???????????? ??????? (??????????? ??????????) 2*pi/11 * 5
% ?? ???? ??????? ?????????? ??? 2*pi/N, c ?-???? -(N-1)/2 ... +(N-1)/2 

%???????????? ???? ?????? ????????? ?? 2??! ?????? ??? 2 ?? ??? ????(!!)
%???????: ???? ? ?????? ????????? ?? ?????? ???????????
% phases: 0..2* pi/N * (N-1)
%? ???? ????????? ???????? ???????????? ???? ???????, ????????
